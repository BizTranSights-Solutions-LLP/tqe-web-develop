<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand" [routerLink]="['/']">
      <img src="./../assets/images/tqe_logos/site_header_logo.svg" alt="Logo">
    </a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
      aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarNav" #navbarNav>
      <ul class="navbar-nav nav-items">
        <ng-container *ngFor="let nav of navigationLinks">
          <li class="nav-item dropdown" [class.active]="isDropdownActive(nav)">
            <a class="nav-link dropdown-toggle" id="navbarDropdown" role="button" data-toggle="dropdown"
              aria-haspopup="true" aria-expanded="false"
              [routerLink]="nav.label === 'Home' ? '/' : null"
              (click)="nav.label === 'Home' ? closeNavbar() : ''">
              {{nav.label}}
            </a>

            <div class="dropdown-menu" aria-labelledby="navbarDropdown" *ngIf="nav.subNav">
              <ng-container *ngFor="let link of nav.subNav">
                <a *ngIf="!loggedIn" class="dropdown-item" [routerLink]="[link.loggedOutURL]"
                  (click)="closeNavbar()">{{link.label}}</a>
                <a *ngIf="loggedIn" class="dropdown-item" [routerLink]="[link.loggedInURL]"
                  (click)="closeNavbar()">{{link.label}}</a>
              </ng-container>
            </div>
          </li>
        </ng-container>
      </ul>
      <ul class="navbar-nav profile-section ml-auto mr-5">
        <li *ngIf="!loggedIn" class="nav-item">
          <a class="nav-link login-btn" [routerLink]="['/login']" (click)="closeNavbar()">
            <img src="./../assets/images/user_profile.svg">&nbsp;<span class="name-text">Login</span> &nbsp;
          </a>
        </li>
        <li *ngIf="loggedIn" class="nav-item dropdown">
          <a class="nav-link dropdown-toggle profile-btn" id="profileDropdown" role="button" data-toggle="dropdown"
            aria-haspopup="true" aria-expanded="false">
            <img src="./../assets/images/user_profile.svg"> &nbsp;<span class="name-text">{{Name}}</span> &nbsp;
            <svg width="9" height="5" viewBox="0 0 9 5" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M1.19194 0.183058C0.947864 -0.0610194 0.552136 -0.0610194 0.308058 0.183058C0.0639806 0.427136 0.0639806 0.822864 0.308058 1.06694L4.05806 4.81694C4.30214 5.06102 4.69786 5.06102 4.94194 4.81694L8.69194 1.06694C8.93602 0.822864 8.93602 0.427136 8.69194 0.183058C8.44786 -0.0610194 8.05214 -0.0610194 7.80806 0.183058L4.5 3.49112L1.19194 0.183058Z"
                fill="white" />
            </svg>
          </a>
          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="profileDropdown">
            <a class="dropdown-item" href="/profile" *ngIf="!is_whop_user" (click)="closeNavbar()">Profile &amp;
              Settings</a>
            <a class="dropdown-item" href="/admin" *ngIf="is_admin" (click)="closeNavbar()">Admin Dashboard</a>
            <a class="dropdown-item" (click)="logOut()">Logout</a>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>